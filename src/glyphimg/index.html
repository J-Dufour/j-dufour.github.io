<!doctype html>
<html>
  <head>
    <link href="/style.css" rel="stylesheet" />
    <script type="module" src="../init.ts"></script>
    <script type="module" src="glyphimg.ts"></script>
  </head>
  <body data-theme="dim-purple">
    <hgroup class="px-8 py-16 bg-white">
      <a href="/" class="text-base-100">Go Home</a>
      <h1 class="mb-4 text-6xl text-black">
        Glyph<strong class="text-base-100">img</strong>
      </h1>
      <p class="text-xl text-gray-600">
        Image... characterizer? glyphizer? glyphicator?
      </p>
    </hgroup>
    <main class="py-8 mb-2 flex flex-col gap-8 bg-base-100">
      <section class="px-8">
        <h2 class="text-4xl font-bold">About</h2>
        <div class="flex">
          <div>
            <p>
              Glyphimg is a tool to transform images into Unicode characters,
              written in Rust.
            </p>
            <br />
            <p>Glyphimg supports:</p>
            <ul class="list-disc ps-8">
              <li>Custom fonts!</li>
              <li>Custom glyph sets!</li>
              <li>Fun little animations!</li>
            </ul>
          </div>
        </div>
      </section>
      <section class="px-8">
        <h2 class="text-4xl font-bold">Try it out!</h2>
        <p class="mb-4">
          The below example uses WASM bindings to run Glyphimg functionality on
          the web. Click on the canvas below to toggle between scrolling view
          and full-image view.
        </p>

        <div class="flex gap-8">
          <div class="basis-2/3 w-0">
            <div class="h-128 overflow-auto border border-content rounded">
              <canvas
                _="on click toggle .size-full then toggle .object-contain"
                id="canvas"
                class=""
              ></canvas>
            </div>
            <p class="text-xs text-center text-content/70 italic">
              FiraMono is licensed under the
              <a href="OFL.txt" class="underline">SIL Open Font License</a>.
            </p>
          </div>
          <div class="basis-1/3 shrink-0 flex flex-col gap-6">
            <fieldset class="fieldset">
              <label for="width-input"
                >Width: <span id="width-value"></span>
              </label>
              <input
                _="
                def setWidth(w)
                  set #canvas's width to w 
                  then put #canvas's width into #width-value
                end
                init setWidth(my value) end
                on input call setWidth(my value)
              "
                class="range w-full"
                id="width-input"
                type="range"
                min="10"
                max="200"
                value="80"
              />
            </fieldset>
            <fieldset class="fieldset">
              <legend for="image-input">Image:</legend>
              <input id="image-input" class="file-input w-full" type="file" />
            </fieldset>
            <fieldset class="fieldset">
              <legend for="alphabet-input">Alphabet:</legend>
              <input id="alphabet-input" class="input w-full" />
              <div class="join w-full">
                <btn
                  _="on click call englishChars() then set #alphabet-input's value to the result"
                  class="join-item btn w-1/2"
                  >English</btn
                >
                <btn
                  _="on click call ASCIIChars() then set #alphabet-input's value to the result "
                  class="join-item btn w-1/2"
                  >ASCII</btn
                >
              </div>
            </fieldset>
            <fieldset class="fieldset">
              <label for="animate-input">Animate?</label>
              <input id="animate-input" class="checkbox" type="checkbox" />
            </fieldset>
            <button
              _="on click call drawImage(#image-input, #width-input's value, #alphabet-input's value, #animate-input's checked)"
              class="btn"
            >
              Run!
            </button>
          </div>
        </div>
      </section>
    </main>
    <footer class="text-center text-gray-500 bg-white">
      &copy; 2025 Jeremy Dufour
    </footer>
  </body>
</html>
